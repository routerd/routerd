apiVersion: dhcp.routerd.net/v1alpha1
kind: DHCPServer
metadata:
  name: sample
spec:

  ipv4:
    pool:
      name: sample
    # subnet: 172.20.0.0/24
    gateway: 192.168.250.1
    # range:
    #   start: 172.20.0.34
    #   stop: 172.20.0.240
    nameServers:
    - 192.168.250.1

  ipv6:
    pool:
      name: sample
    # subnet: "fd9c:fd74:6b8d:1020::/64"
    gateway: "fde4:fa92:1362:78a7::1"
    nameServers:
    - "fde4:fa92:1362:78a7::1"
    # range:
    #   start: fd9c:fd74:6b8d:1020::5
    #   stop: fd9c:fd74:6b8d:1020:ffff:ffff:ffff:ffff

  networkAttachmentDefinition:
    name: br1-static
---
apiVersion: ipam.routerd.net/v1alpha1
kind: IPv4Pool
metadata:
  name: sample
spec:
  cidr: 192.168.250.0/24
  leaseDuration: 1h
---
apiVersion: ipam.routerd.net/v1alpha1
kind: IPv6Pool
metadata:
  name: sample
spec:
  cidr: fde4:fa92:1362:78a7::/64
  leaseDuration: 1h
---
apiVersion: k8s.cni.cncf.io/v1
kind: NetworkAttachmentDefinition
metadata:
  name: br1-static
spec:
  config: |-
    {
      "cniVersion": "0.3.1",
      "name": "br1-static",
      "plugins": [
        {
          "bridge": "br1",
          "ipam": {
            "type": "static"
          },
          "type": "bridge"
        }
      ]
    }
